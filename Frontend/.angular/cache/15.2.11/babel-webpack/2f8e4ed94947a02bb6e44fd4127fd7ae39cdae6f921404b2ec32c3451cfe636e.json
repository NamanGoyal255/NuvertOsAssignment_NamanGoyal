{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { HttpHeaders } from '@angular/common/http';\nlet EditCompoundComponent = class EditCompoundComponent {\n  constructor(fb, http, route, router, AuthService) {\n    this.fb = fb;\n    this.http = http;\n    this.route = route;\n    this.router = router;\n    this.AuthService = AuthService;\n    this.isSubmitting = false;\n    this.successMessage = '';\n    this.errorMessage = '';\n    this.token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'; // Replace with valid token\n  }\n\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.form = this.fb.group({\n      name: ['', Validators.required],\n      image: [''],\n      description: ['']\n    });\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n    this.http.get(`http://localhost:3000/compounds/${this.id}`, {\n      headers\n    }).subscribe({\n      next: data => this.form.patchValue(data),\n      error: err => this.errorMessage = 'Failed to load compound details.'\n    });\n  }\n  onSubmit() {\n    if (this.form.invalid) return;\n    this.isSubmitting = true;\n    this.successMessage = '';\n    this.errorMessage = '';\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n    this.http.put(`http://localhost:3000/compounds/${this.id}`, this.form.value, {\n      headers\n    }).subscribe({\n      next: () => {\n        this.successMessage = 'Compound updated successfully!';\n        this.router.navigate(['/compound', this.id]); // Optional: navigate after short delay\n      },\n\n      error: err => {\n        this.errorMessage = err.error?.message || 'Failed to update compound.';\n      },\n      complete: () => {\n        this.isSubmitting = false;\n      }\n    });\n  }\n};\nEditCompoundComponent = __decorate([Component({\n  selector: 'app-edit-compound',\n  templateUrl: './edit-compound.component.html',\n  styleUrls: ['./edit-compound.component.css']\n})], EditCompoundComponent);\nexport { EditCompoundComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAAiCC,UAAU,QAAQ,gBAAgB;AACnE,SAAqBC,WAAW,QAAQ,sBAAsB;AAQvD,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAShCC,YACUC,EAAe,EACfC,IAAgB,EAChBC,KAAqB,EACrBC,MAAc,EACdC,WAAW;IAJX,OAAE,GAAFJ,EAAE;IACF,SAAI,GAAJC,IAAI;IACJ,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IAXrB,iBAAY,GAAG,KAAK;IACpB,mBAAc,GAAG,EAAE;IACnB,iBAAY,GAAG,EAAE;IAET,UAAK,GAAG,yCAAyC,CAAC,CAAC;EAQxD;;EAEHC,QAAQ;IACN,IAAI,CAACC,EAAE,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE;IACjD,IAAI,CAACC,IAAI,GAAG,IAAI,CAACV,EAAE,CAACW,KAAK,CAAC;MACxBC,IAAI,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACiB,QAAQ,CAAC;MAC/BC,KAAK,EAAE,CAAC,EAAE,CAAC;MACXC,WAAW,EAAE,CAAC,EAAE;KACjB,CAAC;IAEF,MAAMC,OAAO,GAAG,IAAInB,WAAW,EAAE,CAACoB,GAAG,CAAC,eAAe,EAAE,UAAU,IAAI,CAACC,KAAK,EAAE,CAAC;IAE9E,IAAI,CAACjB,IAAI,CAACQ,GAAG,CAAM,mCAAmC,IAAI,CAACH,EAAE,EAAE,EAAE;MAAEU;IAAO,CAAE,CAAC,CAACG,SAAS,CAAC;MACtFC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACX,IAAI,CAACY,UAAU,CAACD,IAAI,CAAC;MAC1CE,KAAK,EAAGC,GAAG,IAAK,IAAI,CAACC,YAAY,GAAG;KACrC,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,IAAI,CAAChB,IAAI,CAACiB,OAAO,EAAE;IAEvB,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACJ,YAAY,GAAG,EAAE;IAEtB,MAAMT,OAAO,GAAG,IAAInB,WAAW,EAAE,CAACoB,GAAG,CAAC,eAAe,EAAE,UAAU,IAAI,CAACC,KAAK,EAAE,CAAC;IAE9E,IAAI,CAACjB,IAAI,CAAC6B,GAAG,CAAC,mCAAmC,IAAI,CAACxB,EAAE,EAAE,EAAE,IAAI,CAACI,IAAI,CAACqB,KAAK,EAAE;MAAEf;IAAO,CAAE,CAAC,CAACG,SAAS,CAAC;MAClGC,IAAI,EAAE,MAAK;QACT,IAAI,CAACS,cAAc,GAAG,gCAAgC;QACtD,IAAI,CAAC1B,MAAM,CAAC6B,QAAQ,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC1B,EAAE,CAAC,CAAC,CAAC,CAAC;MAChD,CAAC;;MACDiB,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACC,YAAY,GAAGD,GAAG,CAACD,KAAK,EAAEU,OAAO,IAAI,4BAA4B;MACxE,CAAC;MACDC,QAAQ,EAAE,MAAK;QACb,IAAI,CAACN,YAAY,GAAG,KAAK;MAC3B;KACD,CAAC;EACJ;CACD;AAvDY9B,qBAAqB,eALjCH,SAAS,CAAC;EACTwC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,GACWvC,qBAAqB,CAuDjC;SAvDYA,qBAAqB","names":["Component","Validators","HttpHeaders","EditCompoundComponent","constructor","fb","http","route","router","AuthService","ngOnInit","id","snapshot","paramMap","get","form","group","name","required","image","description","headers","set","token","subscribe","next","data","patchValue","error","err","errorMessage","onSubmit","invalid","isSubmitting","successMessage","put","value","navigate","message","complete","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\Naman_NuvertOs\\NuvertOsAssignment_NamanGoyal\\Frontend\\src\\app\\services\\edit-compound\\edit-compound.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-edit-compound',\n  templateUrl: './edit-compound.component.html',\n  styleUrls: ['./edit-compound.component.css']\n})\nexport class EditCompoundComponent implements OnInit {\n  form!: FormGroup;\n  id!: string;\n  isSubmitting = false;\n  successMessage = '';\n  errorMessage = '';\n\n  private token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'; // Replace with valid token\n\n  constructor(\n    private fb: FormBuilder,\n    private http: HttpClient,\n    private route: ActivatedRoute,\n    private router: Router,\n    private AuthService\n  ) {}\n\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id')!;\n    this.form = this.fb.group({\n      name: ['', Validators.required],\n      image: [''],\n      description: ['']\n    });\n\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n\n    this.http.get<any>(`http://localhost:3000/compounds/${this.id}`, { headers }).subscribe({\n      next: (data) => this.form.patchValue(data),\n      error: (err) => this.errorMessage = 'Failed to load compound details.'\n    });\n  }\n\n  onSubmit() {\n    if (this.form.invalid) return;\n\n    this.isSubmitting = true;\n    this.successMessage = '';\n    this.errorMessage = '';\n\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n\n    this.http.put(`http://localhost:3000/compounds/${this.id}`, this.form.value, { headers }).subscribe({\n      next: () => {\n        this.successMessage = 'Compound updated successfully!';\n        this.router.navigate(['/compound', this.id]); // Optional: navigate after short delay\n      },\n      error: (err) => {\n        this.errorMessage = err.error?.message || 'Failed to update compound.';\n      },\n      complete: () => {\n        this.isSubmitting = false;\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}