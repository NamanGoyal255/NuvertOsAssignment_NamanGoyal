{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction CompoundsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading compounds...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompoundsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction CompoundsComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"img\", 8);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const compound_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", compound_r5.image, i0.ɵɵsanitizeUrl)(\"alt\", compound_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(compound_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(compound_r5.description);\n  }\n}\nfunction CompoundsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, CompoundsComponent_div_5_div_1_Template, 6, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.compounds);\n  }\n}\nfunction CompoundsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No compounds found. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CompoundsComponent {\n  constructor() {\n    this.http = inject(HttpClient);\n    this.route = inject(ActivatedRoute);\n    this.router = inject(Router);\n    this.compounds = [];\n    this.page = 1;\n    this.total = 0;\n    this.isLoading = false;\n    this.errorMessage = \"\";\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.page = +params['page'] || 1;\n      this.fetchCompounds();\n    });\n  }\n  fetchCompounds() {\n    this.isLoading = true;\n    this.errorMessage = \"\";\n    const token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc0ODEwNjQyMCwiZXhwIjoxNzQ4MTEwMDIwfQ.alBB5_NrR35f7xHZMZGgOtWlksI_QQPJW_7uJXRBNgE`;\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(`http://localhost:3000/api/compounds?page=${this.page}`, {\n      headers\n    }).subscribe({\n      next: res => {\n        this.compounds = res.data;\n        this.total = res.total;\n        this.isLoading = false;\n      },\n      error: err => {\n        this.isLoading = false;\n        if (err.status === 403 || err.status === 401) {\n          this.errorMessage = 'Unauthorized. Token may be invalid.';\n        } else {\n          this.errorMessage = err.error?.message || \"Failed to load compounds.\";\n        }\n      }\n    });\n  }\n  static {\n    this.ɵfac = function CompoundsComponent_Factory(t) {\n      return new (t || CompoundsComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CompoundsComponent,\n      selectors: [[\"app-compounds\"]],\n      decls: 7,\n      vars: 4,\n      consts: [[1, \"container\"], [4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"compound-grid\", 4, \"ngIf\"], [1, \"error\"], [1, \"compound-grid\"], [\"class\", \"compound-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"compound-card\"], [3, \"src\", \"alt\"]],\n      template: function CompoundsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Compounds\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, CompoundsComponent_div_3_Template, 2, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, CompoundsComponent_div_4_Template, 2, 1, \"div\", 2);\n          i0.ɵɵtemplate(5, CompoundsComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(6, CompoundsComponent_div_6_Template, 2, 0, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.compounds.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.compounds.length === 0);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf],\n      styles: [\".container[_ngcontent-%COMP%] {\\r\\n  padding: 20px;\\r\\n}\\r\\n\\r\\n.compound-grid[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  gap: 20px;\\r\\n}\\r\\n\\r\\n.compound-card[_ngcontent-%COMP%] {\\r\\n  width: 300px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 12px;\\r\\n  padding: 15px;\\r\\n  box-shadow: 0 2px 6px rgba(0,0,0,0.1);\\r\\n  background-color: #fff;\\r\\n}\\r\\n\\r\\n.compound-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 180px;\\r\\n  object-fit: contain;\\r\\n  border-radius: 8px;\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.compound-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n  margin: 0 0 10px;\\r\\n}\\r\\n\\r\\n.compound-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  font-size: 14px;\\r\\n  color: #555;\\r\\n}\\r\\n\\r\\n.error[_ngcontent-%COMP%] {\\r\\n  color: red;\\r\\n  margin-top: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VydmljZXMvY29tcG91bmRzL2NvbXBvdW5kcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IscUNBQXFDO0VBQ3JDLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5jb21wb3VuZC1ncmlkIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBnYXA6IDIwcHg7XHJcbn1cclxuXHJcbi5jb21wb3VuZC1jYXJkIHtcclxuICB3aWR0aDogMzAwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4uY29tcG91bmQtY2FyZCBpbWcge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTgwcHg7XHJcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmNvbXBvdW5kLWNhcmQgaDMge1xyXG4gIG1hcmdpbjogMCAwIDEwcHg7XHJcbn1cclxuXHJcbi5jb21wb3VuZC1jYXJkIHAge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBjb2xvcjogIzU1NTtcclxufVxyXG5cclxuLmVycm9yIHtcclxuICBjb2xvcjogcmVkO1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AAAA,SAAoBA,MAAM,QAAgB,eAAe;AACzD,SAASC,MAAM,EAAEC,cAAc,QAAQ,iBAAiB;AACxD,SAASC,UAAU,EAAEC,WAAW,QAAQ,sBAAsB;;;;;ICC5DC,2BAAuB;IAAAA,oCAAoB;IAAAA,iBAAM;;;;;IACjDA,8BAAwC;IAAAA,YAAkB;IAAAA,iBAAM;;;;IAAxBA,eAAkB;IAAlBA,yCAAkB;;;;;IAGxDA,8BAA8D;IAC5DA,yBAAkD;IAClDA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,yBAAG;IAAAA,YAA0B;IAAAA,iBAAI;;;;IAF5BA,eAAsB;IAAtBA,yDAAsB;IACvBA,eAAmB;IAAnBA,sCAAmB;IACpBA,eAA0B;IAA1BA,6CAA0B;;;;;IAJjCA,8BAAsE;IACpEA,yEAIM;IACRA,iBAAM;;;;IAL4CA,eAAY;IAAZA,0CAAY;;;;;IAO9DA,2BAAkD;IAChDA,qCACF;IAAAA,iBAAM;;;ADAR,OAAM,MAAOC,kBAAkB;EAL/BC;IAME,SAAI,GAAGP,MAAM,CAACG,UAAU,CAAC;IACzB,UAAK,GAAGH,MAAM,CAACE,cAAc,CAAC;IAC9B,WAAM,GAAGF,MAAM,CAACC,MAAM,CAAC;IAEvB,cAAS,GAAe,EAAE;IAC1B,SAAI,GAAG,CAAC;IACR,UAAK,GAAG,CAAC;IAET,cAAS,GAAG,KAAK;IACjB,iBAAY,GAAG,EAAE;;EAEjBO,QAAQ;IACN,IAAI,CAACC,KAAK,CAACC,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACxC,IAAI,CAACC,IAAI,GAAG,CAACD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;MAChC,IAAI,CAACE,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EAEAA,cAAc;IACZ,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,YAAY,GAAG,EAAE;IAEtB,MAAMC,KAAK,GAAG,iJAAiJ;IAE/J,MAAMC,OAAO,GAAG,IAAId,WAAW,EAAE,CAACe,GAAG,CAAC,eAAe,EAAE,UAAUF,KAAK,EAAE,CAAC;IAEzE,IAAI,CAACG,IAAI,CAACC,GAAG,CACX,4CAA4C,IAAI,CAACR,IAAI,EAAE,EACvD;MAAEK;IAAO,CAAE,CACZ,CAACP,SAAS,CAAC;MACVW,IAAI,EAAGC,GAAG,IAAI;QACZ,IAAI,CAACC,SAAS,GAAGD,GAAG,CAACE,IAAI;QACzB,IAAI,CAACC,KAAK,GAAGH,GAAG,CAACG,KAAK;QACtB,IAAI,CAACX,SAAS,GAAG,KAAK;MACxB,CAAC;MACDY,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACb,SAAS,GAAG,KAAK;QAEtB,IAAIa,GAAG,CAACC,MAAM,KAAK,GAAG,IAAID,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UAC5C,IAAI,CAACb,YAAY,GAAG,qCAAqC;SAC1D,MAAM;UACL,IAAI,CAACA,YAAY,GAAGY,GAAG,CAACD,KAAK,EAAEG,OAAO,IAAI,2BAA2B;;MAEzE;KACD,CAAC;EACJ;;;uBA9CWxB,kBAAkB;IAAA;EAAA;;;YAAlBA,kBAAkB;MAAAyB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UChB/B9B,8BAAuB;UACjBA,yBAAS;UAAAA,iBAAK;UAElBA,mEAAiD;UACjDA,mEAAgE;UAEhEA,mEAMM;UAENA,mEAEM;UACRA,iBAAM;;;UAdEA,eAAe;UAAfA,oCAAe;UACfA,eAAkB;UAAlBA,uCAAkB;UAEIA,eAAwC;UAAxCA,iEAAwC;UAQ9DA,eAA0C;UAA1CA,mEAA0C","names":["inject","Router","ActivatedRoute","HttpClient","HttpHeaders","i0","CompoundsComponent","constructor","ngOnInit","route","queryParams","subscribe","params","page","fetchCompounds","isLoading","errorMessage","token","headers","set","http","get","next","res","compounds","data","total","error","err","status","message","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Naman_NuvertOs\\NuvertOsAssignment_NamanGoyal\\Frontend\\src\\app\\services\\compounds\\compounds.component.ts","E:\\Naman_NuvertOs\\NuvertOsAssignment_NamanGoyal\\Frontend\\src\\app\\services\\compounds\\compounds.component.html"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\ninterface Compound {\n  id: number;\n  name: string;\n  image: string;\n  description: string;\n}\n\n@Component({\n  selector: 'app-compounds',\n  templateUrl: './compounds.component.html',\n  styleUrls: ['./compounds.component.css']\n})\nexport class CompoundsComponent implements OnInit {\n  http = inject(HttpClient);\n  route = inject(ActivatedRoute);\n  router = inject(Router);\n\n  compounds: Compound[] = [];\n  page = 1;\n  total = 0;\n\n  isLoading = false;\n  errorMessage = \"\";\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      this.page = +params['page'] || 1;\n      this.fetchCompounds();\n    });\n  }\n\n  fetchCompounds() {\n    this.isLoading = true;\n    this.errorMessage = \"\";\n\n    const token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTc0ODEwNjQyMCwiZXhwIjoxNzQ4MTEwMDIwfQ.alBB5_NrR35f7xHZMZGgOtWlksI_QQPJW_7uJXRBNgE`;\n\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n\n    this.http.get<{ data: Compound[]; total: number }>(\n      `http://localhost:3000/api/compounds?page=${this.page}`,\n      { headers }\n    ).subscribe({\n      next: (res) => {\n        this.compounds = res.data;\n        this.total = res.total;\n        this.isLoading = false;\n      },\n      error: (err) => {\n        this.isLoading = false;\n\n        if (err.status === 403 || err.status === 401) {\n          this.errorMessage = 'Unauthorized. Token may be invalid.';\n        } else {\n          this.errorMessage = err.error?.message || \"Failed to load compounds.\";\n        }\n      }\n    });\n  }\n}\n","<div class=\"container\">\n  <h2>Compounds</h2>\n\n  <div *ngIf=\"isLoading\">Loading compounds...</div>\n  <div *ngIf=\"errorMessage\" class=\"error\">{{ errorMessage }}</div>\n\n  <div class=\"compound-grid\" *ngIf=\"!isLoading && compounds.length > 0\">\n    <div class=\"compound-card\" *ngFor=\"let compound of compounds\">\n      <img [src]=\"compound.image\" [alt]=\"compound.name\">\n      <h3>{{ compound.name }}</h3>\n      <p>{{ compound.description }}</p>\n    </div>\n  </div>\n\n  <div *ngIf=\"!isLoading && compounds.length === 0\">\n    No compounds found.\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}