{"ast":null,"code":"import { inject } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction CompoundsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Working on the page...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompoundsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage, \"\\n\");\n  }\n}\nfunction CompoundsComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function CompoundsComponent_div_2_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const compound_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.goToCompound(compound_r5.id));\n    });\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementStart(2, \"div\", 13)(3, \"div\", 14)(4, \"h2\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 16);\n    i0.ɵɵtext(7, \" Know this compound more... \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 17);\n    i0.ɵɵtext(9, \"Read more\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const compound_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", compound_r5.name);\n    i0.ɵɵproperty(\"src\", compound_r5.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(compound_r5.name);\n  }\n}\nfunction CompoundsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵtemplate(2, CompoundsComponent_div_2_div_2_Template, 10, 3, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CompoundsComponent_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.prevPage());\n    });\n    i0.ɵɵtext(5, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CompoundsComponent_div_2_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.nextPage());\n    });\n    i0.ɵɵtext(7, \" Next \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.compounds);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.page === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.page >= ctx_r2.Math.ceil(ctx_r2.total / ctx_r2.pageSize));\n  }\n}\nfunction CompoundsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No compounds found.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CompoundsComponent {\n  constructor() {\n    this.Math = Math;\n    this.http = inject(HttpClient);\n    this.route = inject(ActivatedRoute);\n    this.router = inject(Router);\n    this.authService = inject(AuthService);\n    this.compounds = [];\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.page = 1;\n    this.total = 0;\n    this.pageSize = 10; // Assume page size (update if different)\n  }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.page = +params['page'] || 1;\n      this.fetchCompounds();\n    });\n  }\n  fetchCompounds() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.isLoading = true;\n    this.http.get(`http://localhost:3000/compounds?page=${this.page}`, {\n      headers\n    }).subscribe({\n      next: res => {\n        this.compounds = res.data;\n        this.total = res.total;\n        this.isLoading = false;\n      },\n      error: err => {\n        this.errorMessage = err.error?.message || 'Failed to load compounds';\n        this.isLoading = false;\n      }\n    });\n  }\n  prevPage() {\n    if (this.page > 1) {\n      this.page--;\n      this.updateUrlAndFetch();\n    }\n  }\n  nextPage() {\n    // Calculate max page count\n    const maxPage = Math.ceil(this.total / this.pageSize);\n    if (this.page < maxPage) {\n      this.page++;\n      this.updateUrlAndFetch();\n    }\n  }\n  updateUrlAndFetch() {\n    // Update URL query params and fetch compounds for new page\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: {\n        page: this.page\n      },\n      queryParamsHandling: 'merge'\n    });\n    this.fetchCompounds();\n  }\n  goToCompound(id) {\n    this.router.navigate(['/compound', id]);\n  }\n  static {\n    this.ɵfac = function CompoundsComponent_Factory(t) {\n      return new (t || CompoundsComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CompoundsComponent,\n      selectors: [[\"app-compounds\"]],\n      decls: 4,\n      vars: 4,\n      consts: [[\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"page\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [1, \"error\"], [1, \"page\"], [1, \"cards-container\"], [\"class\", \"card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"pagination-buttons\", 2, \"margin-top\", \"1rem\", \"text-align\", \"center\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"card\", 3, \"click\"], [\"width\", \"200\", \"height\", \"200\", 1, \"card__background\", 3, \"src\", \"alt\"], [1, \"card__content\", \"|\", \"flow\"], [1, \"card__content--container\", \"|\", \"flow\"], [1, \"card__title\"], [1, \"card__description\"], [1, \"card__button\"]],\n      template: function CompoundsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, CompoundsComponent_div_0_Template, 2, 0, \"div\", 0);\n          i0.ɵɵtemplate(1, CompoundsComponent_div_1_Template, 2, 1, \"div\", 1);\n          i0.ɵɵtemplate(2, CompoundsComponent_div_2_Template, 8, 3, \"div\", 2);\n          i0.ɵɵtemplate(3, CompoundsComponent_div_3_Template, 2, 0, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.compounds.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.compounds.length === 0);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf],\n      styles: [\".cards-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  gap: 20px;\\r\\n  padding: 20px;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n\\r\\n.error[_ngcontent-%COMP%] {\\r\\n  color: red;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n  display: grid;\\r\\n  place-items: center;\\r\\n  width: 300px;\\r\\n  height: 20;\\r\\n  overflow: hidden;\\r\\n  border-radius: 0.625rem;\\r\\n  box-shadow: 0.25rem 0.25rem 0.5rem rgba(0, 0, 0, 0.25);\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\r\\n  grid-column: 1 / 2;\\r\\n  grid-row: 1 / 2;\\r\\n}\\r\\n\\r\\n.card__background[_ngcontent-%COMP%] {\\r\\n  object-fit: cover;\\r\\n  max-width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.card__content[_ngcontent-%COMP%] {\\r\\n  --flow-space: 0.9375rem;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  justify-content: space-between;\\r\\n  align-self: flex-end;\\r\\n  height: 55%;\\r\\n  padding: 12% 1.25rem 1.875rem;\\r\\n  background: linear-gradient(\\r\\n    180deg,\\r\\n    hsla(0, 0%, 0%, 0) 0%,\\r\\n    hsla(0, 0%, 0%, 0.3) 10%,\\r\\n    hsl(0, 0%, 0%) 100%\\r\\n  );\\r\\n}\\r\\n\\r\\n.card__content--container[_ngcontent-%COMP%] {\\r\\n  --flow-space: 1.25rem;\\r\\n}\\r\\n\\r\\n.card__title[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  width: fit-content;\\r\\n  width: -moz-fit-content; \\r\\n}\\r\\n\\r\\n.card__title[_ngcontent-%COMP%]::after {\\r\\n  content: \\\"\\\";\\r\\n  position: absolute;\\r\\n  height: 0.3125rem;\\r\\n  width: calc(100% + 1.25rem);\\r\\n  bottom: calc((1.25rem - 0.5rem) * -1);\\r\\n  left: -1.25rem;\\r\\n  background-color: var(--brand-color);\\r\\n}\\r\\n\\r\\n.card__button[_ngcontent-%COMP%] {\\r\\n  padding: 0.75em 1.6em;\\r\\n  width: fit-content;\\r\\n  width: -moz-fit-content; \\r\\n  font-variant: small-caps;\\r\\n  font-weight: bold;\\r\\n  border-radius: 0.45em;\\r\\n  border: none;\\r\\n  background-color: var(--brand-color);\\r\\n  font-family: var(--font-title);\\r\\n  font-size: 1.125rem;\\r\\n  color: var(--black);\\r\\n}\\r\\n\\r\\n.card__button[_ngcontent-%COMP%]:focus {\\r\\n  outline: 2px solid black;\\r\\n  outline-offset: -5px;\\r\\n}\\r\\n\\r\\n@media (any-hover: hover) and (any-pointer: fine) {\\r\\n  .card__content[_ngcontent-%COMP%] {\\r\\n    transform: translateY(62%);\\r\\n    transition: transform 500ms ease-out;\\r\\n    transition-delay: 500ms;\\r\\n  }\\r\\n\\r\\n  .card__title[_ngcontent-%COMP%]::after {\\r\\n    opacity: 0;\\r\\n    transform: scaleX(0);\\r\\n    transition: opacity 1000ms ease-in, transform 500ms ease-out;\\r\\n    transition-delay: 500ms;\\r\\n    transform-origin: right;\\r\\n  }\\r\\n\\r\\n  .card__background[_ngcontent-%COMP%] {\\r\\n    transition: transform 500ms ease-in;\\r\\n  }\\r\\n\\r\\n  .card__content--container[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not(.card__title), .card__button[_ngcontent-%COMP%] {\\r\\n    opacity: 0;\\r\\n    transition: transform 500ms ease-out, opacity 500ms ease-out;\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]:focus-within {\\r\\n    transform: scale(1.05);\\r\\n    transition: transform 500ms ease-in;\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:hover   .card__content[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:focus-within   .card__content[_ngcontent-%COMP%] {\\r\\n    transform: translateY(0);\\r\\n    transition: transform 500ms ease-in;\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:focus-within   .card__content[_ngcontent-%COMP%] {\\r\\n    transition-duration: 0ms;\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:hover   .card__background[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:focus-within   .card__background[_ngcontent-%COMP%] {\\r\\n    transform: scale(1.3);\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:hover   .card__content--container[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not(.card__title), .card[_ngcontent-%COMP%]:hover   .card__button[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:focus-within   .card__content--container[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not(.card__title), .card[_ngcontent-%COMP%]:focus-within   .card__button[_ngcontent-%COMP%] {\\r\\n    opacity: 1;\\r\\n    transition: opacity 500ms ease-in;\\r\\n    transition-delay: 1000ms;\\r\\n  }\\r\\n\\r\\n  .card[_ngcontent-%COMP%]:hover   .card__title[_ngcontent-%COMP%]::after, .card[_ngcontent-%COMP%]:focus-within   .card__title[_ngcontent-%COMP%]::after {\\r\\n    opacity: 1;\\r\\n    transform: scaleX(1);\\r\\n    transform-origin: left;\\r\\n    transition: opacity 500ms ease-in, transform 500ms ease-in;\\r\\n    transition-delay: 500ms;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VydmljZXMvY29tcG91bmRzL2NvbXBvdW5kcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZixTQUFTO0VBQ1QsYUFBYTtFQUNiLHVCQUF1QjtBQUN6Qjs7O0FBR0E7RUFDRSxVQUFVO0VBQ1YsYUFBYTtBQUNmOztBQUVBLG1CQUFtQjs7QUFFbkI7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixVQUFVO0VBQ1YsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtFQUN2QixzREFBc0Q7QUFDeEQ7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsWUFBWTtBQUNkOztBQUVBO0VBQ0UsdUJBQXVCO0VBQ3ZCLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsOEJBQThCO0VBQzlCLG9CQUFvQjtFQUNwQixXQUFXO0VBQ1gsNkJBQTZCO0VBQzdCOzs7OztHQUtDO0FBQ0g7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLHVCQUF1QixFQUFFLG9DQUFvQztBQUMvRDs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLDJCQUEyQjtFQUMzQixxQ0FBcUM7RUFDckMsY0FBYztFQUNkLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsdUJBQXVCLEVBQUUsb0NBQW9DO0VBQzdELHdCQUF3QjtFQUN4QixpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLFlBQVk7RUFDWixvQ0FBb0M7RUFDcEMsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSx3QkFBd0I7RUFDeEIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0U7SUFDRSwwQkFBMEI7SUFDMUIsb0NBQW9DO0lBQ3BDLHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLFVBQVU7SUFDVixvQkFBb0I7SUFDcEIsNERBQTREO0lBQzVELHVCQUF1QjtJQUN2Qix1QkFBdUI7RUFDekI7O0VBRUE7SUFDRSxtQ0FBbUM7RUFDckM7O0VBRUE7O0lBRUUsVUFBVTtJQUNWLDREQUE0RDtFQUM5RDs7RUFFQTs7SUFFRSxzQkFBc0I7SUFDdEIsbUNBQW1DO0VBQ3JDOztFQUVBOztJQUVFLHdCQUF3QjtJQUN4QixtQ0FBbUM7RUFDckM7O0VBRUE7SUFDRSx3QkFBd0I7RUFDMUI7O0VBRUE7O0lBRUUscUJBQXFCO0VBQ3ZCOztFQUVBOzs7O0lBSUUsVUFBVTtJQUNWLGlDQUFpQztJQUNqQyx3QkFBd0I7RUFDMUI7O0VBRUE7O0lBRUUsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQixzQkFBc0I7SUFDdEIsMERBQTBEO0lBQzFELHVCQUF1QjtFQUN6QjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmRzLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgZ2FwOiAyMHB4O1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcblxyXG4uZXJyb3Ige1xyXG4gIGNvbG9yOiByZWQ7XHJcbiAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLyogQ0FSRCBDT01QT05FTlQgKi9cclxuXHJcbi5jYXJkIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XHJcbiAgd2lkdGg6IDMwMHB4O1xyXG4gIGhlaWdodDogMjA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBib3JkZXItcmFkaXVzOiAwLjYyNXJlbTtcclxuICBib3gtc2hhZG93OiAwLjI1cmVtIDAuMjVyZW0gMC41cmVtIHJnYmEoMCwgMCwgMCwgMC4yNSk7XHJcbn1cclxuXHJcbi5jYXJkID4gKiB7XHJcbiAgZ3JpZC1jb2x1bW46IDEgLyAyO1xyXG4gIGdyaWQtcm93OiAxIC8gMjtcclxufVxyXG5cclxuLmNhcmRfX2JhY2tncm91bmQge1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIG1heC13aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5jYXJkX19jb250ZW50IHtcclxuICAtLWZsb3ctc3BhY2U6IDAuOTM3NXJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xyXG4gIGhlaWdodDogNTUlO1xyXG4gIHBhZGRpbmc6IDEyJSAxLjI1cmVtIDEuODc1cmVtO1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcclxuICAgIDE4MGRlZyxcclxuICAgIGhzbGEoMCwgMCUsIDAlLCAwKSAwJSxcclxuICAgIGhzbGEoMCwgMCUsIDAlLCAwLjMpIDEwJSxcclxuICAgIGhzbCgwLCAwJSwgMCUpIDEwMCVcclxuICApO1xyXG59XHJcblxyXG4uY2FyZF9fY29udGVudC0tY29udGFpbmVyIHtcclxuICAtLWZsb3ctc3BhY2U6IDEuMjVyZW07XHJcbn1cclxuXHJcbi5jYXJkX190aXRsZSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHdpZHRoOiBmaXQtY29udGVudDtcclxuICB3aWR0aDogLW1vei1maXQtY29udGVudDsgLyogUHJlZmlqbyBuZWNlc2FyaW8gcGFyYSBGaXJlZm94ICAqL1xyXG59XHJcblxyXG4uY2FyZF9fdGl0bGU6OmFmdGVyIHtcclxuICBjb250ZW50OiBcIlwiO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBoZWlnaHQ6IDAuMzEyNXJlbTtcclxuICB3aWR0aDogY2FsYygxMDAlICsgMS4yNXJlbSk7XHJcbiAgYm90dG9tOiBjYWxjKCgxLjI1cmVtIC0gMC41cmVtKSAqIC0xKTtcclxuICBsZWZ0OiAtMS4yNXJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icmFuZC1jb2xvcik7XHJcbn1cclxuXHJcbi5jYXJkX19idXR0b24ge1xyXG4gIHBhZGRpbmc6IDAuNzVlbSAxLjZlbTtcclxuICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgd2lkdGg6IC1tb3otZml0LWNvbnRlbnQ7IC8qIFByZWZpam8gbmVjZXNhcmlvIHBhcmEgRmlyZWZveCAgKi9cclxuICBmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHM7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMC40NWVtO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icmFuZC1jb2xvcik7XHJcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGl0bGUpO1xyXG4gIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcbiAgY29sb3I6IHZhcigtLWJsYWNrKTtcclxufVxyXG5cclxuLmNhcmRfX2J1dHRvbjpmb2N1cyB7XHJcbiAgb3V0bGluZTogMnB4IHNvbGlkIGJsYWNrO1xyXG4gIG91dGxpbmUtb2Zmc2V0OiAtNXB4O1xyXG59XHJcblxyXG5AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpIGFuZCAoYW55LXBvaW50ZXI6IGZpbmUpIHtcclxuICAuY2FyZF9fY29udGVudCB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNjIlKTtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBlYXNlLW91dDtcclxuICAgIHRyYW5zaXRpb24tZGVsYXk6IDUwMG1zO1xyXG4gIH1cclxuXHJcbiAgLmNhcmRfX3RpdGxlOjphZnRlciB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZVgoMCk7XHJcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDEwMDBtcyBlYXNlLWluLCB0cmFuc2Zvcm0gNTAwbXMgZWFzZS1vdXQ7XHJcbiAgICB0cmFuc2l0aW9uLWRlbGF5OiA1MDBtcztcclxuICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xyXG4gIH1cclxuXHJcbiAgLmNhcmRfX2JhY2tncm91bmQge1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGVhc2UtaW47XHJcbiAgfVxyXG5cclxuICAuY2FyZF9fY29udGVudC0tY29udGFpbmVyID4gOm5vdCguY2FyZF9fdGl0bGUpLFxyXG4gIC5jYXJkX19idXR0b24ge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcyBlYXNlLW91dCwgb3BhY2l0eSA1MDBtcyBlYXNlLW91dDtcclxuICB9XHJcblxyXG4gIC5jYXJkOmhvdmVyLFxyXG4gIC5jYXJkOmZvY3VzLXdpdGhpbiB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGVhc2UtaW47XHJcbiAgfVxyXG5cclxuICAuY2FyZDpob3ZlciAuY2FyZF9fY29udGVudCxcclxuICAuY2FyZDpmb2N1cy13aXRoaW4gLmNhcmRfX2NvbnRlbnQge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDUwMG1zIGVhc2UtaW47XHJcbiAgfVxyXG5cclxuICAuY2FyZDpmb2N1cy13aXRoaW4gLmNhcmRfX2NvbnRlbnQge1xyXG4gICAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMG1zO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQ6aG92ZXIgLmNhcmRfX2JhY2tncm91bmQsXHJcbiAgLmNhcmQ6Zm9jdXMtd2l0aGluIC5jYXJkX19iYWNrZ3JvdW5kIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4zKTtcclxuICB9XHJcblxyXG4gIC5jYXJkOmhvdmVyIC5jYXJkX19jb250ZW50LS1jb250YWluZXIgPiA6bm90KC5jYXJkX190aXRsZSksXHJcbiAgLmNhcmQ6aG92ZXIgLmNhcmRfX2J1dHRvbixcclxuICAuY2FyZDpmb2N1cy13aXRoaW4gLmNhcmRfX2NvbnRlbnQtLWNvbnRhaW5lciA+IDpub3QoLmNhcmRfX3RpdGxlKSxcclxuICAuY2FyZDpmb2N1cy13aXRoaW4gLmNhcmRfX2J1dHRvbiB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluO1xyXG4gICAgdHJhbnNpdGlvbi1kZWxheTogMTAwMG1zO1xyXG4gIH1cclxuXHJcbiAgLmNhcmQ6aG92ZXIgLmNhcmRfX3RpdGxlOjphZnRlcixcclxuICAuY2FyZDpmb2N1cy13aXRoaW4gLmNhcmRfX3RpdGxlOjphZnRlciB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZVgoMSk7XHJcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0O1xyXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLCB0cmFuc2Zvcm0gNTAwbXMgZWFzZS1pbjtcclxuICAgIHRyYW5zaXRpb24tZGVsYXk6IDUwMG1zO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["inject","HttpClient","HttpHeaders","ActivatedRoute","Router","AuthService","i0","CompoundsComponent","constructor","Math","ngOnInit","route","queryParams","subscribe","params","page","fetchCompounds","token","authService","getToken","headers","set","isLoading","http","get","next","res","compounds","data","total","error","err","errorMessage","message","prevPage","updateUrlAndFetch","nextPage","maxPage","ceil","pageSize","router","navigate","relativeTo","queryParamsHandling","goToCompound","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Naman_NuvertOs\\NuvertOsAssignment_NamanGoyal\\Frontend\\src\\app\\services\\compounds\\compounds.component.ts","E:\\Naman_NuvertOs\\NuvertOsAssignment_NamanGoyal\\Frontend\\src\\app\\services\\compounds\\compounds.component.html"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-compounds',\n  templateUrl: './compounds.component.html',\n  styleUrls: ['./compounds.component.css']\n})\nexport class CompoundsComponent implements OnInit {\n  Math = Math;\n\n  private http = inject(HttpClient);\n  private route = inject(ActivatedRoute);\n  private router = inject(Router);\n  private authService = inject(AuthService);\n\n  compounds: Compound[] = [];\n  isLoading = true;\n  errorMessage = '';\n  page = 1;\n  total = 0;\n  pageSize = 10; // Assume page size (update if different)\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.page = +params['page'] || 1;\n      this.fetchCompounds();\n    });\n  }\n\n  fetchCompounds() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n\n    this.isLoading = true;\n    this.http.get<{ data: Compound[], total: number }>(\n      `http://localhost:3000/compounds?page=${this.page}`,\n      { headers }\n    ).subscribe({\n      next: (res) => {\n        this.compounds = res.data;\n        this.total = res.total;\n        this.isLoading = false;\n      },\n      error: (err) => {\n        this.errorMessage = err.error?.message || 'Failed to load compounds';\n        this.isLoading = false;\n      }\n    });\n  }\n\n  prevPage() {\n    if (this.page > 1) {\n      this.page--;\n      this.updateUrlAndFetch();\n    }\n  }\n\n  nextPage() {\n    // Calculate max page count\n    const maxPage = Math.ceil(this.total / this.pageSize);\n    if (this.page < maxPage) {\n      this.page++;\n      this.updateUrlAndFetch();\n    }\n  }\n\n  updateUrlAndFetch() {\n    // Update URL query params and fetch compounds for new page\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { page: this.page },\n      queryParamsHandling: 'merge',\n    });\n    this.fetchCompounds();\n  }\n\n  goToCompound(id: number) {\n    this.router.navigate(['/compound', id]);\n  }\n}\n\ninterface Compound {\n  id: number;\n  name: string;\n  image: string;\n  description: string;\n}\n","<div *ngIf=\"isLoading\" class=\"loading\">Working on the page...</div>\n\n<div *ngIf=\"errorMessage\" class=\"error\">\n  {{ errorMessage }}\n</div>\n\n<div *ngIf=\"!isLoading && compounds.length > 0\" class=\"page\">\n  <div class=\"cards-container\">\n  \n\n\n  <div\n    *ngFor=\"let compound of compounds\"\n    class=\"card\"\n    (click)=\"goToCompound(compound.id)\"\n  >\n  <img\n    class=\"card__background\"\n    [src]=\"compound.image\"\n    alt=\"{{ compound.name }}\"\n    width=\"200\"\n    height=\"200\"\n  />\n  <div class=\"card__content | flow\">\n    <div class=\"card__content--container | flow\">\n      <h2 class=\"card__title\">{{compound.name}}</h2>\n      <p class=\"card__description\">\n       Know this compound more...\n      </p>\n    </div>\n    <button class=\"card__button\">Read more</button>\n  </div>\n  </div>\n</div>\n <!-- Pagination buttons -->\n  <div class=\"pagination-buttons\" style=\"margin-top: 1rem; text-align: center;\">\n    <button mat-raised-button color=\"primary\" (click)=\"prevPage()\" [disabled]=\"page === 1\">\n      Previous\n    </button>\n    <button mat-raised-button color=\"primary\" (click)=\"nextPage()\" [disabled]=\"page >= Math.ceil(total / pageSize)\">\n      Next\n    </button>\n  </div>\n</div>\n\n\n<div *ngIf=\"!isLoading && compounds.length === 0\">\n  No compounds found.\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}